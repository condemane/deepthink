<div class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">
            <div class="quote-box">
                <div id="quote"></div>
                <p class="author"></p></div>
            <h1>
                <a href="{{ site.baseurl }}">
                    {{ site.title }}
                </a>
            </h1>
            <!--<p class="lead">{{ site.description }}</p>-->

        </div>

        <nav class="sidebar-nav">
            <a class="sidebar-nav-item{% if page.url == site.baseurl %} active{% endif %}" href="{{ site.baseurl }}">Home</a>

            {% comment %}
            The code below dynamically generates a sidebar nav of pages with
            `layout: page` in the front-matter. See readme for usage.
            {% endcomment %}

            {% assign pages_list = site.pages %}
            {% for node in pages_list %}
            {% if node.title != null %}
            {% if node.layout == "page" %}
            <a class="sidebar-nav-item{% if page.url == node.url %} active{% endif %}" href="{{site.baseurl}}{{ node.url }}">{{
                node.title }}</a>
            {% endif %}
            {% endif %}
            {% endfor %}
            <span class="sidebar-nav-item">Currently v{{ site.version }}</span>
        </nav>

        <p>&copy; {{ site.time | date: '%Y' }}. All rights reserved.</p>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function (event) {
        $.getJSON("https://api.forismatic.com/api/1.0/?method=getQuote&key=457653&format=jsonp&lang=en&jsonp=?", function (data) {
            quoteText = data.quoteText;

            if (data.quoteAuthor) {
                quoteAuthor = data.quoteAuthor;
            } else {
                quoteAuthor = "Anonymous"
            }

            $('#quote').animate({
                opacity: 0
            }, 500, function () {
                $('#quote').html(quoteText);
                $(this).animate({
                    opacity: 1
                }, 500);
            });

            $('.author').animate({
                opacity: 0
            }, 500, function () {
                $('.author').html(" - " + quoteAuthor);
                $(this).animate({
                    opacity: 1
                }, 500);
            });

            // $('.sidebar-about h1 a').animate({
            //     opacity: 0
            // }, 500, function () {
            //     $('.sidebar-about h1 a').html("{{ site.title }}");
            //     $(this).animate({
            //         opacity: 1
            //     }, 500);
            // });


        });
    });

</script>
